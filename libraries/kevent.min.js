var KEvent=function(){var a=["shift","ctrl","alt","altgr"];var b={left:[37,81,65],up:[38,90,87],right:[39,68],down:[40,83],space:[32],pageup:[33],pagedown:[34],tab:[9],escape:[27]};var c=function(){var a=this;this.keyCodes=new Array(256);this.modifiers=new Array(4);this._onKeyDown=function(b){a._onKey(b,true)};this._onKeyUp=function(b){a._onKey(b,false)};document.addEventListener("keydown",this._onKeyDown,false);document.addEventListener("keyup",this._onKeyUp,false)};c.prototype.remove=function(){document.removeEventListener("keydown",this._onKeyDown,false);document.removeEventListener("keyup",this._onKeyUp,false)};c.prototype._onKey=function(a,b){this.isPressed=b;this.keyCodes[a.keyCode]=b;switch(a.keyIdentifier){case"U+0000":this.modifiers["altgr"]=b;break;case"Alt":this.modifiers["alt"]=b;break;case"Control":this.modifiers["ctrl"]=b;break;case"Shift":this.modifiers["shift"]=b;break}};c.prototype.pressed=function(c){var d,e,f,g;switch(typeof c){case"undefined":return this.isPressed;case"number":return this.byCode(c);case"string":d=c.split("+");break;default:throw Error("The key `"+c+"` have to be undefined, a number or a string.")}f=d.length==1?d[0]:d[1];g=d.length==1?null:d[0];if(Object.keys(b).indexOf(f)!==-1)for(i in b[f]){i=b[f][i];e=this.keyCodes[i];if(e==true)break}else e=this.keyCodes[f.toUpperCase().charCodeAt(0)];if(e==true&&g!==null&&a.indexOf(d[0])!==-1){e=this.modifiers[g]}return e};c.prototype.byCode=function(a){return this.keyCodes[a]};c.prototype.setAlias=function(a){if(arguments.length<2)return console.error("setAlias need a key and some keyCode values.");b[a]=[];for(var c=1;c<arguments.length;++c)b[a].push(arguments[c]);console.log(b[a])};c.prototype.getAlias=function(a){return b[a]};c.prototype.showAlias=function(){console.log(JSON.stringify(b))};return c}();